<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ESP32 Management AP</title>
    <link rel="stylesheet" href="style.css" />
</head>

<body onLoad="getStatus()">
    <h1>ESP32 Wi-Fi Pen Tool</h1>
    <section id="errors"></section>
    <section id="loading">Loading... Please wait</section>
    <section id="ready" style="display: none;">
        <h2>Attack configuration</h2>
        <form onSubmit="runAttack(); return false;">
            <fieldset>
                <legend>Select target</legend>
                <table id="ap-list"></table>
                <p>
                    <button type="button" onClick="refreshAps()">Refresh</button>
                </p>
            </fieldset>
            <fieldset>
                <legend>Attack configuration</legend>
                <p>
                    <label for="attack_type">Attack type:</label>
                    <select id="attack_type" onChange="updateConfigurableFields(this)" required>
                        <option value="0" title="This type is not implemented yet." disabled>ATTACK_TYPE_PASSIVE
                        </option>
                        <option value="1">ATTACK_TYPE_HANDSHAKE</option>
                        <option value="2" selected>ATTACK_TYPE_PMKID</option>
                        <option value="3">ATTACK_TYPE_DOS</option>
                    </select>
                </p>
                <p>
                    <label for="attack_method">Attack method:</label>
                    <select id="attack_method" required disabled>
                        <option value="" selected disabled hidden>NOT AVAILABLE</option>
                    </select>
                </p>
                <p>
                    <label for="attack_timeout">Attack timeout (seconds):</label>
                    <input type="number" min="0" max="255" id="attack_timeout" value="" required />
                </p>
                <p>
                    <button>Attack</button>
                </p>
            </fieldset>
        </form>
    </section>
    <section id="running" style="display: none;">
        Time elapsed: <span id="running-progress"></span>
    </section>
    <section id="result" style="display: none;">
        <div id="result-meta">Loading result.. Please wait</div>
        <div id="result-content"></div>
        <button type="button" onClick="resetAttack()">New attack</button>
    </section>
    <script src="script.js"></script>
</body>

</html>